angular.module("zm.angular-trix-editor",[]).directive("angularTrixEditor",["$timeout",function(e){return{restrict:"A",require:"ngModel",scope:{editor:"=",trixInitialize:"&",trixChange:"&",trixSelectionChange:"&",trixFocus:"&",trixBlur:"&",trixFileAccept:"&",trixAttachmentAdd:"&",trixAttachmentRemove:"&"},link:function(b,c,a,d){b.editor=null;c.on("trix-initialize",function(){b.editor=c[0].editor});c.on("trix-change",function(){d.$setViewValue(c.html())});d.$render=function(){if(b.editor)e(function(){b.editor.loadHTML(d.$viewValue)});
else c.on("trix-initialize",function(){b.editor.loadHTML(d.$viewValue)})};a=function(a,d){c.on(a,function(a){b.$apply(function(){b[d]({event:a})})})};a("trix-initialize","trixInitialize");a("trix-change","trixChange");a("trix-selection-change","trixSelectionChange");a("trix-focus","trixFocus");a("trix-blur","trixBlur");a("trix-file-accept","trixFileAccept");a("trix-attachment-add","trixAttachmentAdd");a("trix-attachment-remove","trixAttachmentRemove")}}}]);
